/* =============================
   LOGIN – estilos del componente (reorganizado)
   ============================= */

@use "../../../../styles/partials/auth" as auth;
@include auth.auth-page();

/* ---------- Variables fluidas (sin @media) ---------- */
:host {
  /* alturas / tamaños de control */
  --ctrl-h: clamp(38px, 4.2vw, 44px);
  --ctrl-fs: clamp(0.9rem, 1.1vw, 1rem);

  /* espacios verticales */
  --space-field: clamp(8px, 1.8vw, 12px);
  --space-tight: clamp(4px, 1vw, 6px);

  /* espacios horizontales */
  --space-gap: clamp(6px, 1.2vw, 12px);
  --pad-inline: clamp(12px, 2.4vw, 18px);

  /* paddings especiales */
  --pad-left-with-icon: clamp(46px, 4.2vw, 52px);
  --pad-right-with-toggle: clamp(28px, 2.2vw, 36px);
}

/* ---------- Utilidades & estado ---------- */
.auth-form.is-loading {
  pointer-events: none;
}

.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* mensaje global “manual” (no Prime) si lo usas */
.message-global {
  margin: 0 1rem 0.5rem;
}

/* menos espacio entre contraseña y mensaje */
.auth-form .field.tight {
  margin-bottom: var(--space-tight);
}

/* separación base entre campos */
.auth-form .field {
  margin-bottom: var(--space-field);
}

/* ---------- Wrappers de campos ---------- */

/* El wrapper con icono + label flotante siempre ocupa 100% */
.field > .p-input-icon-left.with-separator {
  display: block !important;
  width: 100% !important;
  /* relleno horizontal fluido del bloque */
  padding-inline: 0;
}

/* Password a ancho completo y con paddings fluidos */
:host ::ng-deep {
  .p-input-icon-left.with-separator {
    .p-password {
      display: block !important;
      width: 100% !important;
    }

    .p-password-input {
      width: 100% !important;
      box-sizing: border-box;
      min-height: var(--ctrl-h);
      font-size: var(--ctrl-fs);
      padding-left: var(
        --pad-left-with-icon
      ) !important; /* icono + separador */
      padding-right: var(--pad-right-with-toggle); /* botón “ojo” */
    }
  }

  /* La etiqueta flotante no captura clics */
  .p-float-label > label {
    pointer-events: none;
  }
}

/* ---------- Recordarme + “¿Olvidaste…?” ---------- */
/* En desktop quedan en línea; si falta espacio, el propio flex envuelve. */
.field.remember-inline {
  display: flex !important;
  flex-direction: row !important;
  align-items: center;
  gap: var(--space-gap);
  flex-wrap: wrap; /* ← permite que el enlace baje en pantallas estrechas */
}

.field.remember-inline .p-checkbox {
  display: inline-flex;
  align-items: center;
}

/* Enlace: por defecto intenta mantenerse en una línea, pero puede envolver */
.forgot-inline {
  margin-left: 0.75rem;
  max-width: 100%;
  white-space: normal; /* permite envolver si no cabe */
  text-decoration: none;
  color: #6b7280;
  font-weight: 600;

  &:hover {
    text-decoration: underline;
    color: #0284c7;
  }
}

/* ---------- <p-message> compacto bajo contraseña ---------- */
:host ::ng-deep .message-global.p-message {
  /* pegado al campo de arriba y al bloque “remember” de abajo */
  margin: clamp(2px, 0.6vw, 4px) 0 clamp(6px, 1vw, 8px);
  padding: clamp(4px, 0.8vw, 6px) clamp(6px, 1vw, 8px);
  border-radius: 8px;

  .p-message-wrapper {
    padding: 0;
  }
  .p-message-summary,
  .p-message-detail {
    margin: 0;
  }
}

.auth-shell .p-button {
  background: var(--primary-color);
  border-color: var(--primary-color);
  color: #fff;
}

/* Y no toques los modos especiales */
.auth-shell .p-button.p-button-text,
.auth-shell .p-button.p-button-outlined {
  background: transparent;
}
